---
import { getCollection } from 'astro:content';
import Card from '../components/Card.astro';
import Layout from '../layouts/Layout.astro';

const booksCollection = await getCollection('books');
---

<Layout title="Books for Devs">
	<header>
		<h3 class="brand">Books for Devs</h3>
		<ul class="navLinks">
			<li><a href="https://github.com/djsiddz/books-for-devs" target="_blank" title="View Repo"><img src=`${import.meta.env.BASE_URL}icons/github.svg` height="24" /></a></li>
		</ul>
	</header>
	<main>
		<section class="intro">
			<h1><span class="text-gradient1">Reading the documentation isn't enough!</span></h1>
			<div class="introduction">
				<p>Hi there! ðŸ‘‹</p>
				<p>This is a curated collection of books that I feel are essential reading for developers.</p>
				<p>Being a better developer means understanding the <strong>How</strong>s & <strong>Why</strong>s.</p>
				<ul>
					<li><strong>Why</strong> do we write our code like this?</li>
					<li><strong>How</strong> does X work?</li>
					<li><strong>Why</strong> do we build things in a certain way?</li>
					<li><strong>How</strong> did we reach here?</li>
				</ul>
				<p>Hope some of these books answer such questions, make you think, and grow you as a developer.</p>
				<p><strong>Stay curious,</strong><br/>Sid :)</p>
			</div>
		</section>
		<section class="collection">
			<h2>The ðŸ“˜ Collection </h2>
			<p>You can pick a book in any order. Your brain is smart enough to <span class="text-gradient2">connect the dots</span>.</p>
			<p class="affiliateNote">All books link to Amazon.in where you may find options to Kindle editions as well for some of these.</p>
			<ul role="list" class="link-card-grid">
				{booksCollection.map(book => (
					<Card href={book.data.amazonINLink} title={book.data.title} body={book.data.description} image={book.data.coverImage} />
				))}
			</ul>
		</section>
		<section class="outro">
			<h2><span class="text-gradient2">Let's Connect</span></h2>
			<p>Found an interesting book here?<br/>Read one of these previously?<br/>Want to add to this growing collection?</p>
			<p>Reach out to me on <a href="https://github.com/djsiddz"><img src=`${import.meta.env.BASE_URL}icons/github.svg`></a>, <a href="https://linkedin.com/in/siddheshthadeshwar"><img src=`${import.meta.env.BASE_URL}icons/linkedin.svg`></a>, <a href="https://instagram.com/super__siddy"><img src=`${import.meta.env.BASE_URL}icons/instagram.svg`></a>, <a href="https://threads.net/super__siddy"><img src=`${import.meta.env.BASE_URL}icons/threads.svg` height="16"></a>, <a href="https://twitter.com/super_siddy"><img src=`${import.meta.env.BASE_URL}icons/twitter.svg`></a> (or whatever it is called now)...</p>
		</section>
	</main>
	<footer>
		<p class="madeWith">Made with ðŸ’– for &lt;Coding/&gt; & &lt;Reading/&gt;.<br/><a href="https://github.com/djsiddz/books-for-devs"><img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/djsiddz/books-for-devs?logo=github&label=Stars&color=ffce4c"></a></p>
		<p class="personalBrand"><a href="https://supersiddy.wordpress.com/"><img class="profilePhoto" src=`${import.meta.env.BASE_URL}profile-photo-siddhesh.jpg` alt="Profile photo" height="16"/>Siddhesh Thadeshwar</a></p>
	</footer>
</Layout>

<style>
	header, footer {
		display: flex;
		justify-content: space-between;
		margin-left: auto;
		margin-right: auto;
		max-width: 90%;
		padding: 0.5rem 1rem;
	}
	.brand {
		color: var(--white);
		font-weight: bold;
		margin: 0;
		display: flex;
		align-self: center;
	}
	.navLinks {
		list-style: none;
		margin: 0;
	}
	.navLinks > li {
		background-color: transparent;
		border-radius: 0.4rem;
	}
	.navLinks > li > a > img {
		padding: 0.5rem 1rem;
	}
	.navLinks > li:hover {
		background: var(--lightbg);
		transition: ease-in-out;
	}
	main {
		margin: auto;
		padding: 1.5rem;
		max-width: 80ch;
	}
	h1 {
		font-size: 3rem;
		font-weight: 800;
		margin: 0;
		margin-bottom: 2em;
	}
	@media (max-width: 450px) {
		h1 {
			font-size: 2rem;
		}
		.introduction > ul {
			padding-left: 1rem;
		}
		footer {
			flex-direction: column;
			text-align: center;
		}
	}
	.text-gradient1 {
		background-image: var(--new-primary-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.text-gradient2 {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.introduction {
		line-height: 1.6;
		margin: 1rem 0;
		border: 1px solid var(--primary);
		background: var(--new-gradient);
		padding: 1rem;
		border-radius: 0.4rem;
		font-size: smaller;
	}
	.introduction strong {
		color: var(--white);
	}
	.link-card-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(30ch, 1fr));
		gap: 1rem;
		padding: 0;
	}
	section {
		margin-bottom: 5rem;
	}
	section.collection {
		margin-top: 3rem;
	}
	footer {
		color: var(--white);
		font-size: 0.75rem;
	}
	.madeWith {
		line-height: 3;
	}
	.personalBrand {
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.profilePhoto {
		border-radius: 8px;
		margin-right: 0.5rem;
	}
</style>
